<!doctype html>
<html lang="en" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" rel="stylesheet">
	<link rel="stylesheet" href="css/reset.css"> <!-- CSS reset -->
	<link rel="stylesheet" href="css/style.css"> <!-- Resource style -->

	<title>Ds. 27</title>

	<style>
		.cd-schedule .events li.events-group {
			width: calc(100% /15)
		}
		
		/* Star toggle button styles */
		.star-toggle {
			position: absolute;
			top: 5px;
			right: 8px;
			background: none;
			border: none;
			font-size: 16px;
			cursor: pointer;
			color: #ccc;
			transition: color 0.3s ease;
			z-index: 10;
			padding: 2px;
		}
		
		.star-toggle:hover {
			color: #ffd700;
		}
		
		.star-toggle.highlighted {
			color: #ffd700;
		}
		
		.single-event {
			position: relative;
		}
		
		.single-event.highlighted {
			border-left: 5px solid #ffd700 !important;
		}
		
		/* Show toggle styles */
		.show-toggle-container {
			text-align: center;
			margin: 20px 0;
			padding: 15px;
			background: #f5f5f5;
			border-radius: 8px;
		}
		
		.show-toggle-container h3 {
			margin: 0 0 15px 0;
			color: #333;
			font-size: 18px;
		}
		
		.toggle-switch {
			position: relative;
			display: inline-block;
			width: 180px;
			height: 40px;
			background: #ddd;
			border-radius: 20px;
			cursor: pointer;
			transition: background 0.3s ease;
		}
		
		.toggle-switch.favorites-mode {
			background: #ffd700;
		}
		
		.toggle-slider {
			position: absolute;
			top: 3px;
			left: 3px;
			width: 85px;
			height: 34px;
			background: white;
			border-radius: 17px;
			transition: transform 0.3s ease;
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 600;
			font-size: 12px;
			color: #333;
		}
		
		.toggle-switch.favorites-mode .toggle-slider {
			transform: translateX(90px);
		}
		
		.toggle-labels {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0 15px;
			font-size: 12px;
			font-weight: 600;
			color: #666;
			pointer-events: none;
		}
		
		.single-event.hidden-by-filter {
			display: none !important;
		}
		
		.events-group.empty-after-filter {
			display: none !important;
		}
		
		.empty-favorites-message {
			display: none;
			text-align: center;
			padding: 40px 20px;
			color: #666;
			font-style: italic;
		}
		
		.empty-favorites-message.show {
			display: block;
		}
	</style>
</head>
<body>

<a href="./index.html"><button>Dm. 23</button></a><a href="./index1.html"><button>Dc. 24</button></a><a href="./index2.html"><button>Dv. 26</button></a><a href="./index3.html"><button disabled>Ds. 27</button></a><a href="./index4.html"><button>Dg. 28</button></a>

<div class="show-toggle-container">
	<div class="toggle-switch" id="showToggle">
		<div class="toggle-slider"></div>
		<div class="toggle-labels">
			<span style="padding-left: 15px;">TOTS</span>
			<span>PREFERITS</span>
		</div>
	</div>
</div>

<div class="cd-schedule loading">
	<div class="timeline">
		<ul>
<li><span style="display: none">12:00</span></li>
<li><span style="display: none">12:30</span></li>
<li><span style="display: none">13:00</span></li>
<li><span style="display: none">13:30</span></li>
<li><span style="display: none">14:00</span></li>
<li><span style="display: none">14:30</span></li>
<li><span style="display: none">15:00</span></li>
<li><span style="display: none">15:30</span></li>
<li><span style="display: none">16:00</span></li>
<li><span style="display: none">16:30</span></li>
<li><span style="display: none">17:00</span></li>
<li><span style="display: none">17:30</span></li>
<li><span style="display: none">18:00</span></li>
<li><span style="display: none">18:30</span></li>
<li><span style="display: none">19:00</span></li>
<li><span style="display: none">19:30</span></li>
<li><span style="display: none">20:00</span></li>
<li><span style="display: none">20:30</span></li>
<li><span style="display: none">21:00</span></li>
<li><span style="display: none">21:30</span></li>
<li><span style="display: none">22:00</span></li>
<li><span style="display: none">22:30</span></li>
<li><span style="display: none">23:00</span></li>
<li><span style="display: none">23:30</span></li>
<li><span style="display: none">00:00</span></li>
<li><span style="display: none">00:00</span></li>
<li><span style="display: none">00:30</span></li>
<li><span style="display: none">00:30</span></li>
<li><span style="display: none">01:00</span></li>
<li><span style="display: none">01:00</span></li>
		</ul>
	</div> <!-- .timeline -->

	<div class="events">
		<ul>



			
<li class="events-group">
   <div class="top-info"><span>Jardins del Doctor Pla i Armengol</span></div>
   <ul><li class="single-event" data-start="12:00" data-end="12:55"  data-content="event-53" data-event="event-1" data-event-id="event-53">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-jamnation-big-band-jam">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Músiques actuals</em>
            <em class="event-name">Jamnation / Big Band Jam</em>
        </a>
    </li> <li class="single-event" data-start="21:30" data-end="22:25"  data-content="event-54" data-event="event-1" data-event-id="event-54">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-danna-ferrer">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Cançó d’autor, arrel, folk</em>
            <em class="event-name">Concert d'"Anna Ferrer</em>
        </a>
    </li> <li class="single-event" data-start="23:15" data-end="00:10"  data-content="event-55" data-event="event-1" data-event-id="event-55">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-mito-y-comadre">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Música del món</em>
            <em class="event-name">Mito y Comadre</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Plaça Major de Nou Barris</span></div>
   <ul><li class="single-event" data-start="13:00" data-end="13:55"  data-content="event-56" data-event="event-2" data-event-id="event-56">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-banda-simfonica-roquetes-de-nou-barris-i-filarmonica-volere-e-potere">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Música simfònica</em>
            <em class="event-name">Banda Simfònica Roquetes de Nou Barris i Filarmonica Volere è Potere</em>
        </a>
    </li> <li class="single-event" data-start="20:45" data-end="21:40"  data-content="event-57" data-event="event-2" data-event-id="event-57">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-orquestra-simfonica-de-barcelona-i-nacional-de-catalunya">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Música simfònica</em>
            <em class="event-name">Orquestra Simfònica de Barcelona i Nacional de Catalunya</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Parc de la Ciutadella</span></div>
   <ul><li class="single-event" data-start="13:00" data-end="13:55"  data-content="event-58" data-event="event-3" data-event-id="event-58">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-juan-andres-ospina-i-lorquesta-efimera">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">World music</em>
            <em class="event-name">Juan Andrés Ospina i l’Orquesta Efímera</em>
        </a>
    </li> <li class="single-event" data-start="22:30" data-end="23:25"  data-content="event-59" data-event="event-3" data-event-id="event-59">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-kokoshca">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop / rock / indie</em>
            <em class="event-name">Kokoshca</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Antiga Fàbrica Estrella Damm</span></div>
   <ul><li class="single-event" data-start="13:15" data-end="14:10"  data-content="event-60" data-event="event-4" data-event-id="event-60">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-vennus">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Indie / pop / electrònica</em>
            <em class="event-name">Ven’nus</em>
        </a>
    </li> <li class="single-event" data-start="14:15" data-end="15:10"  data-content="event-61" data-event="event-4" data-event-id="event-61">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-chica-acosta-b2b-phran">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Latin club / house / changa / tecno / acid</em>
            <em class="event-name">Chica Acosta B2B Phran</em>
        </a>
    </li> <li class="single-event" data-start="16:30" data-end="17:25"  data-content="event-62" data-event="event-4" data-event-id="event-62">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-ultralone">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Música urbana</em>
            <em class="event-name">ultralone</em>
        </a>
    </li> <li class="single-event" data-start="17:40" data-end="18:35"  data-content="event-63" data-event="event-4" data-event-id="event-63">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-d-hadren">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop alternatiu / ambient / electrònica</em>
            <em class="event-name">Concert d' "Hadren</em>
        </a>
    </li> <li class="single-event" data-start="18:50" data-end="19:45"  data-content="event-64" data-event="event-4" data-event-id="event-64">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-fillas-de-cassandra">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Folk / electrònica</em>
            <em class="event-name">Fillas de Cassandra</em>
        </a>
    </li> <li class="single-event" data-start="20:15" data-end="21:10"  data-content="event-65" data-event="event-4" data-event-id="event-65">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-gregotechno">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Cant gregorià / techno</em>
            <em class="event-name">Gregotechno</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Casal de Barri Ateneu L'Harmonia de Sant Andreu</span></div>
   <ul><li class="single-event" data-start="17:00" data-end="17:55"  data-content="event-66" data-event="event-5" data-event-id="event-66">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-marta-garrett">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Indie / pop / jazz</em>
            <em class="event-name">Marta Garrett</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Fabra i Coats - Fàbrica de Creació</span></div>
   <ul><li class="single-event" data-start="17:50" data-end="18:45"  data-content="event-67" data-event="event-6" data-event-id="event-67">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-olivias">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Folklore experimental</em>
            <em class="event-name">Ölivias</em>
        </a>
    </li> <li class="single-event" data-start="19:30" data-end="20:25"  data-content="event-68" data-event="event-6" data-event-id="event-68">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-syd-depalma">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Deliri pop</em>
            <em class="event-name">Syd dePalma</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Recinte Fabra i Coats</span></div>
   <ul><li class="single-event" data-start="18:40" data-end="19:35"  data-content="event-69" data-event="event-7" data-event-id="event-69">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-damare">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Rock alternatiu / soul</em>
            <em class="event-name">Damare!</em>
        </a>
    </li> <li class="single-event" data-start="20:20" data-end="21:15"  data-content="event-70" data-event="event-7" data-event-id="event-70">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-indar">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Metall</em>
            <em class="event-name">INDAR</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Platja del Bogatell</span></div>
   <ul><li class="single-event" data-start="20:00" data-end="20:55"  data-content="event-71" data-event="event-8" data-event-id="event-71">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-mama-dousha">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop urbà</em>
            <em class="event-name">Mama Dousha</em>
        </a>
    </li> <li class="single-event" data-start="21:05" data-end="22:00"  data-content="event-72" data-event="event-8" data-event-id="event-72">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-doctor-prats">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop-rock</em>
            <em class="event-name">Doctor Prats</em>
        </a>
    </li> <li class="single-event" data-start="22:45" data-end="23:40"  data-content="event-73" data-event="event-8" data-event-id="event-73">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-beret">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop urbà</em>
            <em class="event-name">Beret</em>
        </a>
    </li> <li class="single-event" data-start="0:15" data-end="01:10"  data-content="event-74" data-event="event-8" data-event-id="event-74">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-tyets">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Trap-reggaeton</em>
            <em class="event-name">The Tyets</em>
        </a>
    </li> <li class="single-event" data-start="1:45" data-end="02:40"  data-content="event-75" data-event="event-8" data-event-id="event-75">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-vicco">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop</em>
            <em class="event-name">Vicco</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Avinguda Maria Cristina</span></div>
   <ul><li class="single-event" data-start="21:00" data-end="21:55"  data-content="event-76" data-event="event-9" data-event-id="event-76">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-classe-b">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop / funk / disco / electro</em>
            <em class="event-name">Classe B</em>
        </a>
    </li> <li class="single-event" data-start="22:15" data-end="23:10"  data-content="event-77" data-event="event-9" data-event-id="event-77">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-31-fam">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Música urbana</em>
            <em class="event-name">31 FAM</em>
        </a>
    </li> <li class="single-event" data-start="23:45" data-end="00:40"  data-content="event-78" data-event="event-9" data-event-id="event-78">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-marlena">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop</em>
            <em class="event-name">Marlena</em>
        </a>
    </li> <li class="single-event" data-start="1:15" data-end="02:10"  data-content="event-79" data-event="event-9" data-event-id="event-79">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-la-la-love-you">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop</em>
            <em class="event-name">La La Love You</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>La Rambla del Raval</span></div>
   <ul><li class="single-event" data-start="21:30" data-end="22:25"  data-content="event-80" data-event="event-10" data-event-id="event-80">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-girls-96">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Dance-punk - electroclash - indie dance</em>
            <em class="event-name">Girls 96</em>
        </a>
    </li> <li class="single-event" data-start="23:00" data-end="23:55"  data-content="event-81" data-event="event-10" data-event-id="event-81">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-dj-lycox">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Afropop / dance / electrònica</em>
            <em class="event-name">DJ Lycox</em>
        </a>
    </li> <li class="single-event" data-start="0:30" data-end="01:25"  data-content="event-82" data-event="event-10" data-event-id="event-82">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-fidju-kitxora">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Electronic post-diaspora</em>
            <em class="event-name">Fidju Kitxora</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Plaça de Can Fabra</span></div>
   <ul><li class="single-event" data-start="21:30" data-end="22:25"  data-content="event-83" data-event="event-11" data-event-id="event-83">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-bigwe">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">R&B / zouk / pop / jazz fusió</em>
            <em class="event-name">Bigwé</em>
        </a>
    </li> <li class="single-event" data-start="22:50" data-end="23:45"  data-content="event-84" data-event="event-11" data-event-id="event-84">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-carmen-xia">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Rap / copla</em>
            <em class="event-name">Carmen Xía</em>
        </a>
    </li> <li class="single-event" data-start="0:10" data-end="01:05"  data-content="event-85" data-event="event-11" data-event-id="event-85">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-thelee">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Big beat / electrònica</em>
            <em class="event-name">thelee</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Teatre Grec</span></div>
   <ul><li class="single-event" data-start="22:00" data-end="22:55"  data-content="event-86" data-event="event-12" data-event-id="event-86">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-maria-arnal">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop / electrònica</em>
            <em class="event-name">Maria Arnal</em>
        </a>
    </li> <li class="single-event" data-start="23:30" data-end="00:25"  data-content="event-87" data-event="event-12" data-event-id="event-87">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-seward">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Cançó lliure</em>
            <em class="event-name">Seward</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Avinguda de la Catedral</span></div>
   <ul><li class="single-event" data-start="22:00" data-end="22:55"  data-content="event-88" data-event="event-13" data-event-id="event-88">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-sidonie">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop-rock</em>
            <em class="event-name">Sidonie</em>
        </a>
    </li> <li class="single-event" data-start="0:00" data-end="00:55"  data-content="event-89" data-event="event-13" data-event-id="event-89">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-son-rompe-pera">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Punk / cúmbia - Mèxic</em>
            <em class="event-name">Son Rompe Pera</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>Moll de la Fusta</span></div>
   <ul><li class="single-event" data-start="22:30" data-end="23:25"  data-content="event-90" data-event="event-14" data-event-id="event-90">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-elsas">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Pop alternatiu / electrònica</em>
            <em class="event-name">Elsas</em>
        </a>
    </li> <li class="single-event" data-start="0:00" data-end="00:55"  data-content="event-91" data-event="event-14" data-event-id="event-91">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-dj-set-merca-bae">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Electrònica</em>
            <em class="event-name">DJ Set - MERCA BAE</em>
        </a>
    </li> <li class="single-event" data-start="1:30" data-end="02:25"  data-content="event-92" data-event="event-14" data-event-id="event-92">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-safety-trance">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Música electrònica / acid / house / tecno</em>
            <em class="event-name">Safety Trance</em>
        </a>
    </li></ul>
</li>


<li class="events-group">
   <div class="top-info"><span>La Plaça de Catalunya</span></div>
   <ul><li class="single-event" data-start="22:30" data-end="23:25"  data-content="event-93" data-event="event-15" data-event-id="event-93">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-gazella">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Indie / pop</em>
            <em class="event-name">Gazella</em>
        </a>
    </li> <li class="single-event" data-start="0:00" data-end="00:55"  data-content="event-94" data-event="event-15" data-event-id="event-94">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-alvilda">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Punk / rock / pop</em>
            <em class="event-name">Alvilda</em>
        </a>
    </li> <li class="single-event" data-start="1:30" data-end="02:25"  data-content="event-95" data-event="event-15" data-event-id="event-95">
        <button class="star-toggle" title="Toggle highlight">★</button>
        <a target="_blank" href="https://www.barcelona.cat/lamerce/ca/concert-de-biznaga">
            <em class="event-name" style="display: inline-block; font-size: 8px; color: #eee">Rock</em>
            <em class="event-name">Biznaga</em>
        </a>
    </li></ul>
</li>





		</ul>
	</div>

	<div class="empty-favorites-message" id="emptyFavoritesMessage">
		<p>Encara no has seleccionat cap concert preferit.</p>
        <p>Fes clic al botó ★ en qualsevol concert per afegir-lo als teus preferits!</p>
	</div>

	<div class="event-modal">
		<header class="header">
			<div class="content">
				<span class="event-date"></span>
				<h3 class="event-name"></h3>
			</div>

			<div class="header-bg"></div>
		</header>

		<div class="body">
			<div class="event-info"></div>
			<div class="body-bg"></div>
		</div>

		<a href="#0" class="close">Close</a>
	</div>

	<div class="cover-layer"></div>
</div> <!-- .cd-schedule -->
<script src="js/modernizr.js"></script>
<script src="js/jquery-3.0.0.min.js"></script>
<script>
	if( !window.jQuery ) document.write('<script src="js/jquery-3.0.0.min.js"><\/script>');
</script>
<script src="js/main.js"></script> <!-- Resource jQuery -->

<script>
// Cookie utility functions
function setCookie(name, value, days) {
    const expires = new Date();
    expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
    document.cookie = name + '=' + value + ';expires=' + expires.toUTCString() + ';path=/';
}

function getCookie(name) {
    const nameEQ = name + "=";
    const ca = document.cookie.split(';');
    for(let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
}

function getHighlightedEvents() {
    const highlighted = getCookie('highlightedEvents');
    return highlighted ? JSON.parse(highlighted) : [];
}

function saveHighlightedEvents(eventIds) {
    setCookie('highlightedEvents', JSON.stringify(eventIds), 365); // Save for 1 year
}

function getShowMode() {
    const mode = getCookie('showMode');
    return mode || 'all';
}

function saveShowMode(mode) {
    setCookie('showMode', mode, 365);
}

function updateColumnWidths() {
    const visibleStages = $('.events-group:not(.empty-after-filter)').length;
    const totalStages = $('.events-group').length;
    
    if (visibleStages > 0) {
        const newWidth = 100 / visibleStages;
        $('.events-group:not(.empty-after-filter)').css('width', newWidth + '%');
        $('.events-group.empty-after-filter').css('width', '0%');
    } else {
        // Reset to original width if no stages are visible
        const originalWidth = 100 / totalStages;
        $('.events-group').css('width', originalWidth + '%');
    }
}

function applyShowFilter() {
    const showMode = getShowMode();
    const highlightedEvents = getHighlightedEvents();
    const toggle = $('#showToggle');
    const slider = toggle.find('.toggle-slider');
    const emptyMessage = $('#emptyFavoritesMessage');
    
    if (showMode === 'favorites') {
        toggle.addClass('favorites-mode');
        
        // Hide all non-favorite events
        $('.single-event').each(function() {
            const eventId = $(this).attr('data-event-id');
            if (!highlightedEvents.includes(eventId)) {
                $(this).addClass('hidden-by-filter');
            } else {
                $(this).removeClass('hidden-by-filter');
            }
        });
        
        // Check if any favorites exist and are visible
        const visibleFavorites = $('.single-event.highlighted:not(.hidden-by-filter)').length;
        if (visibleFavorites === 0) {
            emptyMessage.addClass('show');
        } else {
            emptyMessage.removeClass('show');
        }
        
    } else {
        toggle.removeClass('favorites-mode');
        
        $('.single-event').removeClass('hidden-by-filter');
        emptyMessage.removeClass('show');
    }
    
    // Update stage group visibility
    $('.events-group').each(function() {
        const visibleEvents = $(this).find('.single-event:not(.hidden-by-filter)').length;
        if (visibleEvents === 0 && showMode === 'favorites') {
            $(this).addClass('empty-after-filter');
        } else {
            $(this).removeClass('empty-after-filter');
        }
    });
    
    // Update column widths after filtering
    updateColumnWidths();
}

// Initialize everything when page loads
$(document).ready(function() {
    const highlightedEvents = getHighlightedEvents();
    
    // Apply saved highlights
    highlightedEvents.forEach(function(eventId) {
        const eventElement = $('[data-event-id="' + eventId + '"]');
        eventElement.addClass('highlighted');
        eventElement.find('.star-toggle').addClass('highlighted');
    });
    
    // Apply saved show mode
    applyShowFilter();
    
    // Handle show toggle clicks
    $('#showToggle').on('click', function() {
        const currentMode = getShowMode();
        const newMode = currentMode === 'all' ? 'favorites' : 'all';
        saveShowMode(newMode);
        applyShowFilter();
    });
    
    // Handle star toggle clicks
    $(document).on('click', '.star-toggle', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        const button = $(this);
        const eventElement = button.closest('.single-event');
        const eventId = eventElement.attr('data-event-id');
        let highlightedEvents = getHighlightedEvents();
        
        if (button.hasClass('highlighted')) {
            // Remove highlight
            button.removeClass('highlighted');
            eventElement.removeClass('highlighted');
            highlightedEvents = highlightedEvents.filter(id => id !== eventId);
        } else {
            // Add highlight
            button.addClass('highlighted');
            eventElement.addClass('highlighted');
            if (!highlightedEvents.includes(eventId)) {
                highlightedEvents.push(eventId);
            }
        }
        
        saveHighlightedEvents(highlightedEvents);
        
        // Reapply filter in case we're in favorites mode
        applyShowFilter();
    });
});
</script>
</body>
</html>
